{% extends "admin/change_form.html" %} {% load static %} {% block extrahead %}
{{ block.super }}
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> -->
<script type="text/javascript">
    $(function () {
        // inspect html to check id of state select dropdown.
        $(document).on("change", "select#id_state", function () {
            $.getJSON("/getLga/", { id: $(this).val() }, function (j) {
                var options = '<option value="">---------</option>';
                for (var i = 0; i < j.length; i++) {
                    options +=
                        '<option value="' + j[i].id + '">' + j[i].name + "</option>";
                }
                // inspect html to check id of lga select dropdown.
                $("select#id_lga").html(options);
            });
        });
    }); (django.jQuery);
</script>
{% endblock %}